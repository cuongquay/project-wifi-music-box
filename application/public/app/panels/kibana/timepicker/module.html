<div ng-controller='timepicker' ng-init="init()" class="{{ panel.class }}">
	<style>
		.timepicker-timestring {
			font-weight: normal;
		}
		.timepicker-selector {
			border-bottom: 1px solid #ccc;
		}
	</style>
	<div class="col-sm-12 col-md-12 col-lg-12 timepicker-selector padding-left-0 padding-right-0">
		<!--  This is a complete hack. The form actually exists in the modal, but due to transclusion
		$scope.input isn't available on the controller unless the form element is in this file -->
		<form name="input">
			<ul class="nav nav-pills timepicker-dropdown">
				<li class="dropdown">
					<a class="dropdown-toggle timepicker-dropdown" data-toggle="dropdown" href="" bs-tooltip="time.from.date ? (time.from.date | date:'yyyy-MM-dd HH:mm:ss.sss') + ' <br>to<br>' +(time.to.date | date:'yyyy-MM-dd HH:mm:ss.sss') : 'Click to set a time filter'" data-placement="bottom" ng-click="dismiss();"> <span ng-show="filterSrv.idsByType('time').length"> <span class="pointer" ng-hide="panel.now">{{time.from.date | date:'MMM d, y HH:mm:ss'}}</span> <span class="pointer" ng-show="panel.now">{{time.from.date | moment:'ago'}}</span> to <span class="pointer" ng-hide="panel.now" >{{time.to.date | date:'MMM d, y HH:mm:ss'}}</span> <span class="pointer" ng-show="panel.now">{{time.to.date | moment:'ago'}}</span> </span> <span ng-hide="filterSrv.idsByType('time').length" data-localize="select-a-time-range">Select a time range</span> <span ng-show="dashboard.current.refresh" class="text-warning">refreshed every {{dashboard.current.refresh}} </span> <i class="icon-caret-down padding-10"></i> </a>
					<ul class="dropdown-menu">
						<!-- Relative time options -->
						<li ng-repeat='timespan in panel.time_options track by $index'>
							<a ng-click="setRelativeFilter(timespan)">Since&nbsp;<span ng-bind-html="getTimeAgo(timespan)"></span></a>
						</li>						
					</ul>
				</li>
			</ul>
		</form>
	</div>
</div>
